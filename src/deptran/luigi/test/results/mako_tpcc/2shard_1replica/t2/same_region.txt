=== Mako TPC-C: 2-Shard 1-Replica ===
Duration: 30s
Threads: 2
Network: 2ms ± 0.5ms

Applying network latency: 2ms ± 0.5ms (pareto)...
qdisc netem 806f: root refcnt 2 limit 1000 delay 2ms  499us

Starting shard 0...
=========================================
Configuration:
=========================================
  Number of shards:  2
  Shard index:       0
  Number of threads: 2
  Cluster:           localhost
  Micro benchmark:   disabled
  Replicated mode:   disabled
=========================================
20251126-18:06.01-921589(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
SiloRuntime[0]::InitializeAllocator()
  hugepgsize: 2097152
  mmap() region [0x7f9ae957f000, 0x7f9b2977f000)
  runtime0 cpu0 owns [0x7f9ae9600000, 0x7f9b09600000)
  runtime0 cpu1 owns [0x7f9b09600000, 0x7f9b29600000)
Database Benchmark:
  pid: 73590
settings:
  num-cpus    : 8
  num-threads : 2
  shardIndex  : 0
  paxos_proc_name  : localhost
  nshards     : 2
  is_micro    : 0
  is_replicated : 0
  var-encode  : yes
  allocator   : jemalloc
system properties:
  tuple_prefetch          : no
  btree_node_prefetch     : yes
tpcc settings:
  cross_partition_transactions : 1
  read_only_snapshots          : 1
  partition_locks              : 0
  separate_tree_per_partition  : 1
  new_order_remote_item_pct    : 1
  new_order_fast_id_gen        : 1
  uniform_item_dist            : 0
  order_status_scan_hack       : 0
  workload_mix                 : [45, 43, 4, 4, 4]
new table is createded with name: customer_0, table-id: 1, on shard-server id:0
new table is createded with name: customer_1, table-id: 2, on shard-server id:0
new table is createded with name: customer_name_idx_0, table-id: 3, on shard-server id:0
new table is createded with name: customer_name_idx_1, table-id: 4, on shard-server id:0
new table is createded with name: district_0, table-id: 5, on shard-server id:0
new table is createded with name: district_1, table-id: 6, on shard-server id:0
new table is createded with name: history_0, table-id: 7, on shard-server id:0
new table is createded with name: history_1, table-id: 8, on shard-server id:0
new table is createded with name: new_order_0, table-id: 9, on shard-server id:0
new table is createded with name: new_order_1, table-id: 10, on shard-server id:0
new table is createded with name: oorder_0, table-id: 11, on shard-server id:0
new table is createded with name: oorder_1, table-id: 12, on shard-server id:0
new table is createded with name: oorder_c_id_idx_0, table-id: 13, on shard-server id:0
new table is createded with name: oorder_c_id_idx_1, table-id: 14, on shard-server id:0
new table is createded with name: order_line_0, table-id: 15, on shard-server id:0
new table is createded with name: order_line_1, table-id: 16, on shard-server id:0
new table is createded with name: stock_0, table-id: 17, on shard-server id:0
new table is createded with name: stock_1, table-id: 18, on shard-server id:0
new table is createded with name: stock_data_0, table-id: 19, on shard-server id:0
new table is createded with name: stock_data_1, table-id: 20, on shard-server id:0
new table is createded with name: warehouse_0, table-id: 21, on shard-server id:0
new table is createded with name: warehouse_1, table-id: 22, on shard-server id:0
new table is createded with name: item, table-id: 23, on shard-server id:0
new table is createded with name: customer_remote_3, table-id: 201, on shard-server id:1
new table is createded with name: customer_remote_4, table-id: 202, on shard-server id:1
new table is createded with name: customer_name_idx_remote_3, table-id: 203, on shard-server id:1
new table is createded with name: customer_name_idx_remote_4, table-id: 204, on shard-server id:1
new table is createded with name: district_remote_3, table-id: 205, on shard-server id:1
new table is createded with name: district_remote_4, table-id: 206, on shard-server id:1
new table is createded with name: history_remote_3, table-id: 207, on shard-server id:1
new table is createded with name: history_remote_4, table-id: 208, on shard-server id:1
new table is createded with name: new_order_remote_3, table-id: 209, on shard-server id:1
new table is createded with name: new_order_remote_4, table-id: 210, on shard-server id:1
new table is createded with name: oorder_remote_3, table-id: 211, on shard-server id:1
new table is createded with name: oorder_remote_4, table-id: 212, on shard-server id:1
new table is createded with name: oorder_c_id_idx_remote_3, table-id: 213, on shard-server id:1
new table is createded with name: oorder_c_id_idx_remote_4, table-id: 214, on shard-server id:1
new table is createded with name: order_line_remote_3, table-id: 215, on shard-server id:1
new table is createded with name: order_line_remote_4, table-id: 216, on shard-server id:1
new table is createded with name: stock_remote_3, table-id: 217, on shard-server id:1
new table is createded with name: stock_remote_4, table-id: 218, on shard-server id:1
new table is createded with name: stock_data_remote_3, table-id: 219, on shard-server id:1
new table is createded with name: stock_data_remote_4, table-id: 220, on shard-server id:1
new table is createded with name: warehouse_remote_3, table-id: 221, on shard-server id:1
new table is createded with name: warehouse_remote_4, table-id: 222, on shard-server id:1
new table is createded with name: item_remote_3, table-id: 223, on shard-server id:1
new table is createded with name: item_remote_4, table-id: 224, on shard-server id:1
20251126-18:06.01-923742(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.01-923849(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
[TRANSPORT] Using default: rrr
[TRANSPORT] Using default: rrr
20251126-18:06.01-924154(us) 73590 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.01-924212(us) 73590 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.01-924300(us) 73590 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31007 (listening on 0.0.0.0:31007)
20251126-18:06.01-924360(us) 73590 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31007
20251126-18:06.01-924409(us) 73590 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31008 (listening on 0.0.0.0:31008)
20251126-18:06.01-924451(us) 73590 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31008
20251126-18:06.01-924489(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:518): RrrRpcBackend::RunEventLoop: Starting event loop
20251126-18:06.01-924528(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:518): RrrRpcBackend::RunEventLoop: Starting event loop
20251126-18:06.01-924611(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=0, shard_index=0, getShardIndex=0, loader=1
20251126-18:06.01-924780(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=1, shard_index=0, getShardIndex=0, loader=1
20251126-18:06.01-925350(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.01-925448(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.01-925762(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.01-925967(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.01-929441(us) 73590 ! run             (bench.cc:398):     # of loaders size:6
20251126-18:06.01-930405(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=2, shard_index=0, getShardIndex=0, loader=1
20251126-18:06.01-930486(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=3, shard_index=0, getShardIndex=0, loader=1
start worker:3996
[INFO] finished loading warehouse
[INFO]   * average warehouse record length: 97 bytes
[INFO] finished loading item
[INFO]   * average item record length: 84.1739 bytes
20251126-18:06.02-128367(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=4, shard_index=0, getShardIndex=0, loader=1
20251126-18:06.02-128447(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=5, shard_index=0, getShardIndex=0, loader=1
PinToWarehouseId(): coreid=3 pinned to whse=1 (partid=0)
PinToWarehouseId(): coreid=2 pinned to whse=1 (partid=0)
PinToWarehouseId(): coreid=3 pinned to whse=2 (partid=1)
[INFO] finished loading district
[INFO]   * average district record length: 99 bytes
PinToWarehouseId(): coreid=2 pinned to whse=2 (partid=1)
[INFO] finished loading stock
[INFO]   * average stock record length: 8 bytes
20251126-18:06.03-856644(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=6, shard_index=0, getShardIndex=0, loader=1
num batches: 30
PinToWarehouseId(): coreid=4 pinned to whse=1 (partid=0)
20251126-18:06.03-856803(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=7, shard_index=0, getShardIndex=0, loader=1
PinToWarehouseId(): coreid=5 pinned to whse=1 (partid=0)
PinToWarehouseId(): coreid=5 pinned to whse=2 (partid=1)
PinToWarehouseId(): coreid=4 pinned to whse=2 (partid=1)
[INFO] finished loading order
[INFO]   * average order_line record length: 11.1187 bytes
[INFO]   * average oorder record length: 7.7038 bytes
[INFO]   * average new_order record length: 12 bytes
[INFO] finished loading customer
[INFO]   * average customer record length: 153.862 bytes 
timed region dataloading took 2574.97 ms
DB size: 232.414 MB
[0, 0, 0] txns persisted in loading phase
20251126-18:06.04-504547(us) 73590 ! run             (bench.cc:451):     # of nthreads:2
starting benchmark...
--------------Finish loading data and wait for others completing load phase ------------
tpcc: worker id 8 => warehouses [1, 2)
tpcc: worker id 9 => warehouses [2, 3)
No JEMALLOC_NO_RENAME
20251126-18:06.04-506297(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=8, shard_index=0, getShardIndex=0, loader=0
No JEMALLOC_NO_RENAME
20251126-18:06.04-506378(us) 73590 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=9, shard_index=0, getShardIndex=0, loader=0
20251126-18:06.04-506903(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-507043(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-507355(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
[TRANSPORT] Using default: rrr
20251126-18:06.04-507528(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-507606(us) 73590 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
[TRANSPORT] Using default: rrr
20251126-18:06.04-507692(us) 73590 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31000 (listening on 0.0.0.0:31000)
20251126-18:06.04-507734(us) 73590 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31000
20251126-18:06.04-507780(us) 73590 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.04-507859(us) 73590 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31001 (listening on 0.0.0.0:31001)
20251126-18:06.04-507901(us) 73590 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31001
20251126-18:06.04-508104(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-508327(us) 73590 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-508667(us) 73590 ! run             (bench.cc:511):     start the running time, runTime:30
20251126-18:06.04-508718(us) 73590 ! run             (bench.cc:523):     runtime time left:30000 ms, bool:1
20251126-18:06.04-509287(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=202, table_name=customer_remote_4, is_remote=1
20251126-18:06.04-513285(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-514209(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-514258(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=202, table_name=customer_remote_4, is_remote=1
20251126-18:06.04-518654(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-534333(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-534385(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=201, table_name=customer_remote_3, is_remote=1
20251126-18:06.04-537024(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-537084(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=201, table_name=customer_remote_3, is_remote=1
20251126-18:06.04-538196(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-540895(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-555010(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=201, table_name=customer_remote_3, is_remote=1
20251126-18:06.04-557894(us) 73590 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=217, table_name=stock_remote_3, is_remote=1
20251126-18:06.04-558884(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-562262(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-579759(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-581500(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-601068(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-601807(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-605740(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-605928(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-624652(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-627560(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-631780(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-645140(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-653228(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-664550(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-670548(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-673392(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-677144(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-689417(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-698459(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-708904(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-719729(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-723745(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-728716(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-732241(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-744055(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-753825(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-765457(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-775751(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-784740(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-796085(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-807154(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-811357(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-815105(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-830810(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-833864(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-835916(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-854782(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-855633(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-875492(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-876137(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-895933(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-896173(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
Starting shard 1...
Running benchmark for 30 seconds...
=========================================
Configuration:
=========================================
  Number of shards:  2
  Shard index:       1
  Number of threads: 2
  Cluster:           localhost
  Micro benchmark:   disabled
  Replicated mode:   disabled
=========================================
20251126-18:06.04-916664(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-917740(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-920297(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 7
20251126-18:06.04-921514(us) 73590 ! SendToShard     (rrr_rpc_backend.cc:260): Failed to get client for shard 1, server 8
20251126-18:06.04-924613(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
SiloRuntime[0]::InitializeAllocator()
  hugepgsize: 2097152
  mmap() region [0x7f572a57f000, 0x7f576a77f000)
  runtime0 cpu0 owns [0x7f572a600000, 0x7f574a600000)
  runtime0 cpu1 owns [0x7f574a600000, 0x7f576a600000)
Database Benchmark:
  pid: 73648
settings:
  num-cpus    : 8
  num-threads : 2
  shardIndex  : 1
  paxos_proc_name  : localhost
  nshards     : 2
  is_micro    : 0
  is_replicated : 0
  var-encode  : yes
  allocator   : jemalloc
system properties:
  tuple_prefetch          : no
  btree_node_prefetch     : yes
tpcc settings:
  cross_partition_transactions : 1
  read_only_snapshots          : 1
  partition_locks              : 0
  separate_tree_per_partition  : 1
  new_order_remote_item_pct    : 1
  new_order_fast_id_gen        : 1
  uniform_item_dist            : 0
  order_status_scan_hack       : 0
  workload_mix                 : [45, 43, 4, 4, 4]
new table is createded with name: customer_0, table-id: 201, on shard-server id:1
new table is createded with name: customer_1, table-id: 202, on shard-server id:1
new table is createded with name: customer_name_idx_0, table-id: 203, on shard-server id:1
new table is createded with name: customer_name_idx_1, table-id: 204, on shard-server id:1
new table is createded with name: district_0, table-id: 205, on shard-server id:1
new table is createded with name: district_1, table-id: 206, on shard-server id:1
new table is createded with name: history_0, table-id: 207, on shard-server id:1
new table is createded with name: history_1, table-id: 208, on shard-server id:1
new table is createded with name: new_order_0, table-id: 209, on shard-server id:1
new table is createded with name: new_order_1, table-id: 210, on shard-server id:1
new table is createded with name: oorder_0, table-id: 211, on shard-server id:1
new table is createded with name: oorder_1, table-id: 212, on shard-server id:1
new table is createded with name: oorder_c_id_idx_0, table-id: 213, on shard-server id:1
new table is createded with name: oorder_c_id_idx_1, table-id: 214, on shard-server id:1
new table is createded with name: order_line_0, table-id: 215, on shard-server id:1
new table is createded with name: order_line_1, table-id: 216, on shard-server id:1
new table is createded with name: stock_0, table-id: 217, on shard-server id:1
new table is createded with name: stock_1, table-id: 218, on shard-server id:1
new table is createded with name: stock_data_0, table-id: 219, on shard-server id:1
new table is createded with name: stock_data_1, table-id: 220, on shard-server id:1
new table is createded with name: warehouse_0, table-id: 221, on shard-server id:1
new table is createded with name: warehouse_1, table-id: 222, on shard-server id:1
new table is createded with name: item, table-id: 223, on shard-server id:1
new table is createded with name: customer_remote_1, table-id: 1, on shard-server id:0
new table is createded with name: customer_remote_2, table-id: 2, on shard-server id:0
new table is createded with name: customer_name_idx_remote_1, table-id: 3, on shard-server id:0
new table is createded with name: customer_name_idx_remote_2, table-id: 4, on shard-server id:0
new table is createded with name: district_remote_1, table-id: 5, on shard-server id:0
new table is createded with name: district_remote_2, table-id: 6, on shard-server id:0
new table is createded with name: history_remote_1, table-id: 7, on shard-server id:0
new table is createded with name: history_remote_2, table-id: 8, on shard-server id:0
new table is createded with name: new_order_remote_1, table-id: 9, on shard-server id:0
new table is createded with name: new_order_remote_2, table-id: 10, on shard-server id:0
new table is createded with name: oorder_remote_1, table-id: 11, on shard-server id:0
new table is createded with name: oorder_remote_2, table-id: 12, on shard-server id:0
new table is createded with name: oorder_c_id_idx_remote_1, table-id: 13, on shard-server id:0
new table is createded with name: oorder_c_id_idx_remote_2, table-id: 14, on shard-server id:0
new table is createded with name: order_line_remote_1, table-id: 15, on shard-server id:0
new table is createded with name: order_line_remote_2, table-id: 16, on shard-server id:0
new table is createded with name: stock_remote_1, table-id: 17, on shard-server id:0
new table is createded with name: stock_remote_2, table-id: 18, on shard-server id:0
new table is createded with name: stock_data_remote_1, table-id: 19, on shard-server id:0
new table is createded with name: stock_data_remote_2, table-id: 20, on shard-server id:0
new table is createded with name: warehouse_remote_1, table-id: 21, on shard-server id:0
new table is createded with name: warehouse_remote_2, table-id: 22, on shard-server id:0
new table is createded with name: item_remote_1, table-id: 23, on shard-server id:0
new table is createded with name: item_remote_2, table-id: 24, on shard-server id:0
20251126-18:06.04-926935(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-927124(us) 73648 [TRANSPORT] Using default: rrr
* ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-927288(us) 73648 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
[TRANSPORT] Using default: rrr
20251126-18:06.04-927398(us) 73648 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31107 (listening on 0.0.0.0:31107)
20251126-18:06.04-927432(us) 73648 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31107
20251126-18:06.04-927470(us) 73648 * RunEventLoop    (rrr_rpc_backend.cc:518): RrrRpcBackend::RunEventLoop: Starting event loop
20251126-18:06.04-927521(us) 73648 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.04-927594(us) 73648 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31108 (listening on 0.0.0.0:31108)
20251126-18:06.04-927632(us) 73648 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31108
20251126-18:06.04-927678(us) 73648 * RunEventLoop    (rrr_rpc_backend.cc:518): RrrRpcBackend::RunEventLoop: Starting event loop
20251126-18:06.04-927862(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=0, shard_index=1, getShardIndex=1, loader=1
20251126-18:06.04-928047(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=1, shard_index=1, getShardIndex=1, loader=1
20251126-18:06.04-928629(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-928733(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-928935(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-929184(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.04-932173(us) 73648 ! run             (bench.cc:398):     # of loaders size:6
20251126-18:06.04-933147(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=2, shard_index=1, getShardIndex=1, loader=1
20251126-18:06.04-933222(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=3, shard_index=1, getShardIndex=1, loader=1
start worker:4055
[INFO] finished loading warehouse
[INFO]   * average warehouse record length: 97 bytes
[INFO] finished loading item
[INFO]   * average item record length: 84.1739 bytes
20251126-18:06.05-148167(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=4, shard_index=1, getShardIndex=1, loader=1
PinToWarehouseId(): coreid=3 pinned to whse=1 (partid=0)
20251126-18:06.05-148328(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=5, shard_index=1, getShardIndex=1, loader=1
PinToWarehouseId(): coreid=2 pinned to whse=1 (partid=0)
PinToWarehouseId(): coreid=3 pinned to whse=2 (partid=1)
[INFO] finished loading district
[INFO]   * average district record length: 99 bytes
20251126-18:06.05-515123(us) 73590 ! run             (bench.cc:523):     runtime time left:29000 ms, bool:1
PinToWarehouseId(): coreid=2 pinned to whse=2 (partid=1)
20251126-18:06.06-528057(us) 73590 ! run             (bench.cc:523):     runtime time left:28000 ms, bool:1
[INFO] finished loading stock
[INFO]   * average stock record length: 8 bytes
20251126-18:06.06-949233(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=6, shard_index=1, getShardIndex=1, loader=1
PinToWarehouseId(): coreid=20251126-18:06.06-949351(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=7, shard_index=1, getShardIndex=1, loader=1
5 pinned to whse=1 (partid=0)
num batches: 30
PinToWarehouseId(): coreid=4 pinned to whse=1 (partid=0)
PinToWarehouseId(): coreid=5 pinned to whse=2 (partid=1)
[INFO] finished loading order
[INFO]   * average order_line record length: 11.1187 bytes
[INFO]   * average oorder record length: 7.7038 bytes
[INFO]   * average new_order record length: 12 bytes
PinToWarehouseId(): coreid=4 pinned to whse=2 (partid=1)
20251126-18:06.07-534855(us) 73590 ! run             (bench.cc:523):     runtime time left:27000 ms, bool:1
[INFO] finished loading customer
[INFO]   * average customer record length: 153.862 bytes 
timed region dataloading took 2809.55 ms
DB size: 253.25 MB
[0, 0, 0] txns persisted in loading phase
20251126-18:06.07-741865(us) 73648 ! run             (bench.cc:451):     # of nthreads:2
starting benchmark...
--------------Finish loading data and wait for others completing load phase ------------
tpcc: worker id 8 => warehouses [1, 2)
tpcc: worker id 9 => warehouses [2, 3)
No JEMALLOC_NO_RENAME
20251126-18:06.07-744377(us) 73648 No JEMALLOC_NO_RENAME
* thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=8, shard_index=1, getShardIndex=1, loader=0
20251126-18:06.07-744491(us) 73648 * thread_init     (mbta_wrapper.hh:1047): thread_init: thread_id=9, shard_index=1, getShardIndex=1, loader=0
20251126-18:06.07-745037(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.07-745102(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.07-745514(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.07-745572(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
[TRANSPORT] Using default: rrr
[TRANSPORT] Using default: rrr
20251126-18:06.07-745790(us) 73648 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.07-745859(us) 73648 * Initialize      (rrr_rpc_backend.cc:58): RrrRpcBackend::Initialize: poll_thread_worker_ created, is_some=1
20251126-18:06.07-745964(us) 73648 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31100 (listening on 0.0.0.0:31100)
20251126-18:06.07-746020(us) 73648 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31100
20251126-18:06.07-746063(us) 73648 * Initialize      (rrr_rpc_backend.cc:88): RrrRpcBackend initialized on 127.0.0.1:31101 (listening on 0.0.0.0:31101)
20251126-18:06.07-746106(us) 73648 * FastTransport   (fasttransport.cc:116): FastTransport initialized with rrr/rpc backend on 127.0.0.1:31101
20251126-18:06.07-746406(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.07-746470(us) 73648 * ParseOldFormat  (configuration.cc:66): Using old configuration format
20251126-18:06.07-746846(us) 73648 ! run             (bench.cc:511):     start the running time, runTime:30
20251126-18:06.07-746901(us) 73648 ! run             (bench.cc:523):     runtime time left:30000 ms, bool:1
20251126-18:06.07-747820(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=1, table_name=customer_remote_1, is_remote=1
20251126-18:06.07-755458(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=1, table_name=customer_remote_1, is_remote=1
20251126-18:06.07-787535(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=1, table_name=customer_remote_1, is_remote=1
20251126-18:06.07-794220(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=2, table_name=customer_remote_2, is_remote=1
20251126-18:06.07-821707(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=18, table_name=stock_remote_2, is_remote=1
20251126-18:06.07-833260(us) 73648 ! get             (mbta_wrapper.hh:99): DEBUG get(): table_id=2, table_name=customer_remote_2, is_remote=1
20251126-18:06.08-541708(us) 73590 ! run             (bench.cc:523):     runtime time left:26000 ms, bool:1
20251126-18:06.08-753453(us) 73648 ! run             (bench.cc:523):     runtime time left:29000 ms, bool:1
20251126-18:06.09-548058(us) 73590 ! run             (bench.cc:523):     runtime time left:25000 ms, bool:1
20251126-18:06.09-760579(us) 73648 ! run             (bench.cc:523):     runtime time left:28000 ms, bool:1
20251126-18:06.10-554846(us) 73590 ! run             (bench.cc:523):     runtime time left:24000 ms, bool:1
20251126-18:06.10-767190(us) 73648 ! run             (bench.cc:523):     runtime time left:27000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:11.365 | created 1024, busy 1023, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:11.370 | created 1024, busy 1023, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.11-561577(us) 73590 ! run             (bench.cc:523):     runtime time left:23000 ms, bool:1
20251126-18:06.11-774113(us) 73648 ! run             (bench.cc:523):     runtime time left:26000 ms, bool:1
20251126-18:06.12-568424(us) 73590 ! run             (bench.cc:523):     runtime time left:22000 ms, bool:1
20251126-18:06.12-780188(us) 73648 ! run             (bench.cc:523):     runtime time left:25000 ms, bool:1
20251126-18:06.13-575470(us) 73590 ! run             (bench.cc:523):     runtime time left:21000 ms, bool:1
20251126-18:06.13-786576(us) 73648 ! run             (bench.cc:523):     runtime time left:24000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:14.161 | created 1024, busy 1023, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:14.207 | created 1024, busy 1023, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.14-582210(us) 73590 ! run             (bench.cc:523):     runtime time left:20000 ms, bool:1
20251126-18:06.14-793473(us) 73648 ! run             (bench.cc:523):     runtime time left:23000 ms, bool:1
20251126-18:06.15-589165(us) 73590 ! run             (bench.cc:523):     runtime time left:19000 ms, bool:1
20251126-18:06.15-800266(us) 73648 ! run             (bench.cc:523):     runtime time left:22000 ms, bool:1
20251126-18:06.16-595686(us) 73590 ! run             (bench.cc:523):     runtime time left:18000 ms, bool:1
20251126-18:06.16-807591(us) 73648 ! run             (bench.cc:523):     runtime time left:21000 ms, bool:1
20251126-18:06.17-603082(us) 73590 ! run             (bench.cc:523):     runtime time left:17000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:17.780 | created 2048, busy 2047, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:17.788 | created 2048, busy 2047, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.17-814398(us) 73648 ! run             (bench.cc:523):     runtime time left:20000 ms, bool:1
20251126-18:06.18-609815(us) 73590 ! run             (bench.cc:523):     runtime time left:16000 ms, bool:1
20251126-18:06.18-820833(us) 73648 ! run             (bench.cc:523):     runtime time left:19000 ms, bool:1
20251126-18:06.19-616475(us) 73590 ! run             (bench.cc:523):     runtime time left:15000 ms, bool:1
20251126-18:06.19-827588(us) 73648 ! run             (bench.cc:523):     runtime time left:18000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:20.554 | created 2048, busy 2047, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:20.603 | created 2048, busy 2047, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.20-622986(us) 73590 ! run             (bench.cc:523):     runtime time left:14000 ms, bool:1
20251126-18:06.20-834467(us) 73648 ! run             (bench.cc:523):     runtime time left:17000 ms, bool:1
20251126-18:06.21-629502(us) 73590 ! run             (bench.cc:523):     runtime time left:13000 ms, bool:1
20251126-18:06.21-840911(us) 73648 ! run             (bench.cc:523):     runtime time left:16000 ms, bool:1
20251126-18:06.22-640118(us) 73590 ! run             (bench.cc:523):     runtime time left:12000 ms, bool:1
20251126-18:06.22-851807(us) 73648 ! run             (bench.cc:523):     runtime time left:15000 ms, bool:1
20251126-18:06.23-647057(us) 73590 ! run             (bench.cc:523):     runtime time left:11000 ms, bool:1
20251126-18:06.23-858893(us) 73648 ! run             (bench.cc:523):     runtime time left:14000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:24.161 | created 3072, busy 3071, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:24.230 | created 3072, busy 3071, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.24-653814(us) 73590 ! run             (bench.cc:523):     runtime time left:10000 ms, bool:1
20251126-18:06.24-865668(us) 73648 ! run             (bench.cc:523):     runtime time left:13000 ms, bool:1
20251126-18:06.25-660654(us) 73590 ! run             (bench.cc:523):     runtime time left:9000 ms, bool:1
20251126-18:06.25-873061(us) 73648 ! run             (bench.cc:523):     runtime time left:12000 ms, bool:1
20251126-18:06.26-668040(us) 73590 ! run             (bench.cc:523):     runtime time left:8000 ms, bool:1
20251126-18:06.26-880201(us) 73648 ! run             (bench.cc:523):     runtime time left:11000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:26.988 | created 3072, busy 3071, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:27.039 | created 3072, busy 3071, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.27-675628(us) 73590 ! run             (bench.cc:523):     runtime time left:7000 ms, bool:1
20251126-18:06.27-887424(us) 73648 ! run             (bench.cc:523):     runtime time left:10000 ms, bool:1
20251126-18:06.28-682497(us) 73590 ! run             (bench.cc:523):     runtime time left:6000 ms, bool:1
20251126-18:06.28-894950(us) 73648 ! run             (bench.cc:523):     runtime time left:9000 ms, bool:1
20251126-18:06.29-689320(us) 73590 ! run             (bench.cc:523):     runtime time left:5000 ms, bool:1
20251126-18:06.29-901975(us) 73648 ! run             (bench.cc:523):     runtime time left:8000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:30.572 | created 4096, busy 4095, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:30.617 | created 4096, busy 4095, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.30-695698(us) 73590 ! run             (bench.cc:523):     runtime time left:4000 ms, bool:1
20251126-18:06.30-908952(us) 73648 ! run             (bench.cc:523):     runtime time left:7000 ms, bool:1
20251126-18:06.31-702260(us) 73590 ! run             (bench.cc:523):     runtime time left:3000 ms, bool:1
20251126-18:06.31-915679(us) 73648 ! run             (bench.cc:523):     runtime time left:6000 ms, bool:1
20251126-18:06.32-709111(us) 73590 ! run             (bench.cc:523):     runtime time left:2000 ms, bool:1
20251126-18:06.32-922876(us) 73648 ! run             (bench.cc:523):     runtime time left:5000 ms, bool:1
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:33.410 | created 4096, busy 4095, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
I [/root/cse532/mako/src/rrr/reactor/reactor.cc:116] 2025-12-26 18:06:33.457 | created 4096, busy 4095, idle 0 coroutines on server 0, recent /root/cse532/mako/src/rrr/rpc/server.cpp:243
20251126-18:06.33-716251(us) 73590 ! run             (bench.cc:523):     runtime time left:1000 ms, bool:1
20251126-18:06.33-929540(us) 73648 ! run             (bench.cc:523):     runtime time left:4000 ms, bool:1
20251126-18:06.34-723346(us) 73590 ! run             (bench.cc:533):     runtime_plus:0
[SHUTDOWN] Setting running=false to stop database worker threads
[SHUTDOWN] Calling first stop() to stop client transports
20251126-18:06.34-723465(us) 73590 ! stop            (bench.cc:373):     stop all erpc clients. set stop=false
20251126-18:06.34-723498(us) 73590 * Stop            (rrr_rpc_backend.cc:599): RrrRpcBackend::Stop: BEGIN - Setting stop flag
20251126-18:06.34-723528(us) 73590 * Stop            (rrr_rpc_backend.cc:602): RrrRpcBackend::Stop: Waiting for event loop to exit...
20251126-18:06.34-723556(us) 73590 * Stop            (rrr_rpc_backend.cc:618): RrrRpcBackend::Stop: Event loop exited successfully
20251126-18:06.34-723587(us) 73590 * Stop            (rrr_rpc_backend.cc:622): RrrRpcBackend::Stop: Signaling 0 request queues to stop
20251126-18:06.34-723624(us) 73590 * Stop            (rrr_rpc_backend.cc:630): RrrRpcBackend::Stop: Signaling 0 response queues to stop
20251126-18:06.34-723652(us) 73590 * Stop            (rrr_rpc_backend.cc:641): RrrRpcBackend::Stop: Server cleanup deferred to destructor
20251126-18:06.34-723680(us) 73590 * Stop            (rrr_rpc_backend.cc:644): RrrRpcBackend::Stop: Closing client connections
20251126-18:06.34-723707(us) 73590 * Stop            (rrr_rpc_backend.cc:648): RrrRpcBackend::Stop: Found 1 client connections to close
20251126-18:06.34-723775(us) 73590 * Stop            (rrr_rpc_backend.cc:668): RrrRpcBackend::Stop: Closed 1 client connections
20251126-18:06.34-723819(us) 73590 * Stop            (rrr_rpc_backend.cc:680): RrrRpcBackend stats: msg_size_resp_sent: 0 bytes, counter: 0, avg: -nan
20251126-18:06.34-723863(us) 73590 * Stop            (rrr_rpc_backend.cc:683): RrrRpcBackend::Stop: END
20251126-18:06.34-723905(us) 73590 * Stop            (rrr_rpc_backend.cc:599): RrrRpcBackend::Stop: BEGIN - Setting stop flag
20251126-18:06.34-723944(us) 73590 * Stop            (rrr_rpc_backend.cc:602): RrrRpcBackend::Stop: Waiting for event loop to exit...
20251126-18:06.34-723983(us) 73590 * Stop            (rrr_rpc_backend.cc:618): RrrRpcBackend::Stop: Event loop exited successfully
20251126-18:06.34-724026(us) 73590 * Stop            (rrr_rpc_backend.cc:622): RrrRpcBackend::Stop: Signaling 0 request queues to stop
20251126-18:06.34-724069(us) 73590 * Stop            (rrr_rpc_backend.cc:630): RrrRpcBackend::Stop: Signaling 0 response queues to stop
20251126-18:06.34-724106(us) 73590 * Stop            (rrr_rpc_backend.cc:641): RrrRpcBackend::Stop: Server cleanup deferred to destructor
20251126-18:06.34-724138(us) 73590 * Stop            (rrr_rpc_backend.cc:644): RrrRpcBackend::Stop: Closing client connections
20251126-18:06.34-724173(us) 73590 * Stop            (rrr_rpc_backend.cc:648): RrrRpcBackend::Stop: Found 1 client connections to close
20251126-18:06.34-724218(us) 73590 ! SendToAll       (rrr_rpc_backend.cc:406): RrrRpcBackend::SendToAll: stop requested after wait, aborting (req_type=3)
20251126-18:06.34-724265(us) 73590 ! SendToAll       (rrr_rpc_backend.cc:406): RrrRpcBackend::SendToAll: stop requested after wait, aborting (req_type=8)
20251126-18:06.34-724345(us) 73590 * Stop            (rrr_rpc_backend.cc:668): RrrRpcBackend::Stop: Closed 1 client connections
20251126-18:06.34-724388(us) 73590 * Stop            (rrr_rpc_backend.cc:680): RrrRpcBackend stats: msg_size_resp_sent: 0 bytes, counter: 0, avg: -nan
20251126-18:06.34-724429(us) 73590 * Stop            (rrr_rpc_backend.cc:683): RrrRpcBackend::Stop: END
[SHUTDOWN] First stop() completed
[SHUTDOWN] Joining 20251126-18:06.34-724485(us) 73590 ! SendToAll       (rrr_rpc_backend.cc:340): RrrRpcBackend::SendToAll: stop requested, not sending (req_type=4)
2 worker threadsjump out the while loop

[SHUTDOWN] Joining worker 0
20251126-18:06.34-724590(us) 73590 ! SendToAll       (rrr_rpc_backend.cc:340): RrrRpcBackend::SendToAll: stop requested, not sending (req_type=3)
20251126-18:06.34-724707(us) 73590 ! SendToAll       (rrr_rpc_backend.cc:340): RrrRpcBackend::SendToAll: stop requested, not sending (req_type=4)
jump out the while loop
20251126-18:06.34-724758(us) 73590 * PrintStats      (rrr_rpc_backend.cc:689): RrrRpcBackend request stats: msg_size_req_sent: 249055 bytes, counter: 4758, avg: 52.344472
20251126-18:06.34-724811(us) 73590 * PrintStats      (rrr_rpc_backend.cc:689): RrrRpcBackend request stats: msg_size_req_sent: 243969 bytes, counter: 4748, avg: 51.383530
20251126-18:06.34-936227(us) 73648 ! run             (bench.cc:523):     runtime time left:3000 ms, bool:1
[SHUTDOWN] Worker 0 joined
[SHUTDOWN] Joining worker 1
[SHUTDOWN] Worker 1 joined
[SHUTDOWN] All workers joined
[SHUTDOWN] Calling stop_erpc_server()
[STOP_SERVER] Stopping 2 server transports
[STOP_SERVER] Stopping server transport 0
20251126-18:06.35-725327(us) 73590 * Stop            (rrr_rpc_backend.cc:599): RrrRpcBackend::Stop: BEGIN - Setting stop flag
20251126-18:06.35-725375(us) 73590 * Stop            (rrr_rpc_backend.cc:602): RrrRpcBackend::Stop: Waiting for event loop to exit...
20251126-18:06.35-725494(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:583): RrrRpcBackend::RunEventLoop: Stop flag detected, exiting event loop
20251126-18:06.35-725535(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:587): RrrRpcBackend::RunEventLoop: Exited cleanly
20251126-18:06.35-725570(us) 73590 * erpc_server     (rpc_setup.cc:121): the erpc_server is terminated on shardIdx:0, alpha:0!
20251126-18:06.35-735476(us) 73590 * Stop            (rrr_rpc_backend.cc:618): RrrRpcBackend::Stop: Event loop exited successfully
20251126-18:06.35-735525(us) 73590 * Stop            (rrr_rpc_backend.cc:622): RrrRpcBackend::Stop: Signaling 1 request queues to stop
20251126-18:06.35-735555(us) 73590 * Stop            (rrr_rpc_backend.cc:625): RrrRpcBackend::Stop: Stopping request queue for server_id 2
20251126-18:06.35-735590(us) 73590 * Stop            (rrr_rpc_backend.cc:630): RrrRpcBackend::Stop: Signaling 1 response queues to stop
20251126-18:06.35-735618(us) 73590 * Stop            (rrr_rpc_backend.cc:633): RrrRpcBackend::Stop: Stopping response queue for server_id 2
20251126-18:06.35-735647(us) 73590 * Stop            (rrr_rpc_backend.cc:641): RrrRpcBackend::Stop: Server cleanup deferred to destructor
20251126-18:06.35-735692(us) 73590 * Stop            (rrr_rpc_backend.cc:644): RrrRpcBackend::Stop: Closing client connections
20251126-18:06.35-735749(us) 73590 * Stop            (rrr_rpc_backend.cc:648): RrrRpcBackend::Stop: Found 0 client connections to close
20251126-18:06.35-735782(us) 73590 * Stop            (rrr_rpc_backend.cc:668): RrrRpcBackend::Stop: Closed 0 client connections
20251126-18:06.35-735811(us) 73590 * Stop            (rrr_rpc_backend.cc:680): RrrRpcBackend stats: msg_size_resp_sent: 169098 bytes, counter: 4464, avg: 37.880376
20251126-18:06.35-735851(us) 73590 * Stop            (rrr_rpc_backend.cc:683): RrrRpcBackend::Stop: END
[STOP_SERVER] Server transport 0 stopped
[STOP_SERVER] Stopping server transport 1
20251126-18:06.35-735941(us) 73590 * Stop            (rrr_rpc_backend.cc:599): RrrRpcBackend::Stop: BEGIN - Setting stop flag
20251126-18:06.35-736008(us) 73590 * Stop            (rrr_rpc_backend.cc:602): RrrRpcBackend::Stop: Waiting for event loop to exit...
20251126-18:06.35-736078(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:583): RrrRpcBackend::RunEventLoop: Stop flag detected, exiting event loop
20251126-18:06.35-736130(us) 73590 * RunEventLoop    (rrr_rpc_backend.cc:587): RrrRpcBackend::RunEventLoop: Exited cleanly
20251126-18:06.35-736166(us) 73590 * erpc_server     (rpc_setup.cc:121): the erpc_server is terminated on shardIdx:0, alpha:1!
20251126-18:06.35-746109(us) 73590 * Stop            (rrr_rpc_backend.cc:618): RrrRpcBackend::Stop: Event loop exited successfully
20251126-18:06.35-746178(us) 73590 * Stop            (rrr_rpc_backend.cc:622): RrrRpcBackend::Stop: Signaling 1 request queues to stop
20251126-18:06.35-746215(us) 73590 * Stop            (rrr_rpc_backend.cc:625): RrrRpcBackend::Stop: Stopping request queue for server_id 3
20251126-18:06.35-746254(us) 73590 * Stop            (rrr_rpc_backend.cc:630): RrrRpcBackend::Stop: Signaling 1 response queues to stop
20251126-18:06.35-746288(us) 73590 * Stop            (rrr_rpc_backend.cc:633): RrrRpcBackend::Stop: Stopping response queue for server_id 3
20251126-18:06.35-746332(us) 73590 * Stop            (rrr_rpc_backend.cc:641): RrrRpcBackend::Stop: Server cleanup deferred to destructor
20251126-18:06.35-746389(us) 73590 * Stop            (rrr_rpc_backend.cc:644): RrrRpcBackend::Stop: Closing client connections
20251126-18:06.35-746428(us) 73590 * Stop            (rrr_rpc_backend.cc:648): RrrRpcBackend::Stop: Found 0 client connections to close
20251126-18:06.35-746468(us) 73590 * Stop            (rrr_rpc_backend.cc:668): RrrRpcBackend::Stop: Closed 0 client connections
20251126-18:06.35-746502(us) 73590 * Stop            (rrr_rpc_backend.cc:680): RrrRpcBackend stats: msg_size_resp_sent: 171991 bytes, counter: 4460, avg: 38.563004
20251126-18:06.35-746539(us) 73590 * Stop            (rrr_rpc_backend.cc:683): RrrRpcBackend::Stop: END
[STOP_SERVER] Server transport 1 stopped
[STOP_SERVER] All server transports stopped
[SHUTDOWN] stop_erpc_server() completed
[SHUTDOWN] Calling second stop()
20251126-18:06.35-746656(us) 73590 ! stop            (bench.cc:373):     stop all erpc clients. set stop=false
[SHUTDOWN] Second stop() completed
[SHUTDOWN] Calling do_txn_finish()
[SHUTDOWN] do_txn_finish() completed
--- n_commits per partition ---
 par_id: 0, n_commits: 14519
 par_id: 1, n_commits: 13891
--- benchmark statistics ---
runtime: 30.2381 sec
memory delta: 301.434 MB
n_commits: 28410
latency_numer_us: 603462
latency_numer_us_remote: 56274491
memory delta rate: 9.96866 MB/sec
logical memory delta: 1.7734 MB
logical memory delta rate: 0.0586478 MB/sec
agg_nosync_throughput: 939.545 ops/sec
avg_nosync_per_core_throughput: 469.773 ops/sec/core
agg_throughput: 939.542 ops/sec
avg_per_core_throughput: 469.771 ops/sec/core
agg_persist_throughput: 939.542 ops/sec
avg_per_core_persist_throughput: 469.771 ops/sec/core
avg_latency: 0.0212412 ms
avg_persist_latency: 0 ms
agg_abort_rate: 18.8834 aborts/sec
avg_per_core_abort_rate: 9.44172 aborts/sec/core
  NewOrder_local_commit_latency: 0.0246259 ms
  NewOrder_local_abort_latency: 0.0298271 ms
  NewOrder_local_abort_ratio: 0.0116115
  Payment_local_commit_latency: 0.00764155 ms
  Payment_local_abort_latency: 0.020721 ms
  Payment_local_abort_ratio: 8.8308e-05
  Delivery_local_commit_latency: 0.0854653 ms
  Delivery_local_abort_latency: -nan ms
  Delivery_local_abort_ratio: 0
  OrderStatus_local_commit_latency: 0.00906033 ms
  OrderStatus_local_abort_latency: 0.01352 ms
  OrderStatus_local_abort_ratio: 0.000844595
  StockLevel_local_commit_latency: 0.110658 ms
  StockLevel_local_abort_latency: 0.0700735 ms
  StockLevel_local_abort_ratio: 0.0218671
  NewOrder_remote_ratio: 6.47688 %
  NewOrder_remote_abort_ratio: 16.7665 %
  NewOrder_remote_commit_latency: 30.8889 ms
  NewOrder_remote_abort_latency: 12.7412 ms
  Payment_remote_ratio: 9.96263 %
  Payment_remote_abort_ratio: 20.9896 %
  Payment_remote_commit_latency: 35.1591 ms
  Payment_remote_abort_latency: 6.64473 ms
--- system counters (for benchmark) ---
--- perf counters (if enabled, for benchmark) ---
--- allocator stats ---
[SiloRuntime 0] ncpus=2
[SiloRuntime 0] cpu=0 fully_faulted?=0 remaining=536870912 bytes
[SiloRuntime 0] cpu=1 fully_faulted?=0 remaining=536870912 bytes
---------------------------------------
--- system counters for n_comits ---
[STOP_SERVER] Stopping 2 server transports
[STOP_SERVER] Stopping server transport 0
20251126-18:06.35-748312(us) 73590 * Stop            (rrr_rpc_backend.cc:595): RrrRpcBackend::Stop: Already stopped, returning
[STOP_SERVER] Server transport 0 stopped
[STOP_SERVER] Stopping server transport 1
20251126-18:06.35-748399(us) 73590 * Stop            (rrr_rpc_backend.cc:595): RrrRpcBackend::Stop: Already stopped, returning
[STOP_SERVER] Server transport 1 stopped
[STOP_SERVER] All server transports stopped
20251126-18:06.35-782985(us) 73648 ! SendToShard     (rrr_rpc_backend.cc:306): RPC error: 107
20251126-18:06.35-783066(us) 73648 ! SendToAll       (rrr_rpc_backend.cc:411): RPC error: 107
20251126-18:06.35-783114(us) 73648 ! SendToAll       (rrr_rpc_backend.cc:368): Failed to begin_request for shard 0
20251126-18:06.35-948210(us) 73648 ! run             (bench.cc:523):     runtime time left:2000 ms, bool:1
20251126-18:06.36-954786(us) 73648 ! run             (bench.cc:523):     runtime time left:1000 ms, bool:1
20251126-18:06.37-961159(us) 73648 ! run             (bench.cc:533):     runtime_plus:0
[SHUTDOWN] Setting running=false to stop database worker threads
[SHUTDOWN] Calling first stop() to stop client transports
20251126-18:06.37-961249(us) 73648 ! stop            (bench.cc:373):     stop all erpc clients. set stop=false
20251126-18:06.37-961283(us) 73648 ! stop            (bench.cc:380):     ShardClient for par_id=0 is nullptr, skipping stop()
20251126-18:06.37-961311(us) 73648 ! stop            (bench.cc:380):     ShardClient for par_id=1 is nullptr, skipping stop()
[SHUTDOWN] First stop() completed
[SHUTDOWN] Joining 2 worker threads
[SHUTDOWN] Joining worker 0
bash/shard.sh: line 80: 73648 Killed                  ./build/dbtest --num-threads 2 --shard-index 1 --shard-config /root/cse532/mako/src/mako/config/local-shards2-warehouses2.yml -P localhost

Cleaning up...
Done!
